Description: make the tests usable as basic tests.
 We want a status report when we run the examples as
 tests, but not when we clean without gprclean.
 .
 Autopkg-test considers that a test fails if it emits on stderr.
Author: Nicolas Boulenguez <nicolas@debian.org>
Forwarded: not-needed

--- a/examples/subsystems/c_src/c_main.c
+++ b/examples/subsystems/c_src/c_main.c
@@ -1,3 +1,4 @@
+#include <stdlib.h>
 extern void adainit (void);
 extern void adafinal (void);
 extern void do_it_in_ada(void);
--- a/examples/Makefile
+++ b/examples/Makefile
@@ -2,5 +2,5 @@
 export PATH=${PTH}
 
 all clean run:
-	-${foreach dir,${wildcard */}, ${MAKE} $@ -C ${dir};}
+	${foreach dir,${wildcard */}, ${MAKE} $@ -C ${dir} && } true
 .PHONY: all clean run
--- a/Makefile.in
+++ b/Makefile.in
@@ -188,7 +188,6 @@
 	@${RM} $(objdir)/*
 	@${RM} -r bootstrap
 	make -C doc clean
-	make -C examples clean
 
 .PHONY: doc install-doc tests examples force
 doc:
